@page.title: Components;
@page.author: Markdown;
@page.generated;


/* !!! DO NOT EDIT THIS PAGE !!!
   This page is auto-generated from doc/technical/components.md. Any changes will be overwritten
   the next time the page is generated. Instead, edit doc/technical/components.md directly.
*/

~sec [Components] {
    ~p {
        wikifier is divided into several components, each built atop the previous.
        This allows it to be used either as a wiki library or as a
        [[ standalone program | #executables ]].
    }
    ~list {
        ~p {
            [[ Components | #components ]]
        }
        ~list {
            ~p {
                [[ Wikifier | #wikifier ]] - Low-level parsing and HTML generation
            }
            ;
            ~p {
                [[ Wikifier\:\:Page | #wikifierpage ]] - Programming interface for a single page
            }
            ;
            ~p {
                [[ Wikifier\:\:Wiki | #wikifierwiki ]] - Programming interface for a wiki site
            }
            ;
            ~p {
                [[ Wikifier\:\:Server | #wikifierserver ]] - Transport wiki content to a web server
            }
            ~list {
                ~p {
                    [[ Features | #features ]]
                }
                ;
                ~p {
                    [[ Usage | #usage ]]
                }
                ;
                ~p {
                    [[ Interfaces | #interfaces ]]
                }
                ;
                
            }
            ;
            ~p {
                [[ Executables | #executables ]] - Use wikifier as a standalone program
            }
            ;
            
        }
        ;
        
    }
    ~sec [wikifier] {
        ~p {
            The [b]Wikifier[/b] package includes the most basic low-level functions. It
            provides the minimal functionality for parsing wiki source files and generating
            HTML. This is not to be used directly\; instead set up a
            [[ wikiserver | #wikifierserver ]] or use one of [[ WiPage | #wikifierwiki ]] or
            [[ WiWiki | #wikifierwiki ]] directly from code.
        }
        ~p {
            The wikifier package is divided into several subpackages\:
        }
        ~list {
            ~p {
                [b]Parser[/b] - Reads [[ wiki language | ../language.md ]] source files
                character-by-character and [[ parses | parsing.md ]] them.
            }
            ;
            ~p {
                [b]Formatter[/b] - Translates [[ formatted text | ../language.md#text-formatting ]] such
                as bolds, italics, and links to HTML.
            }
            ;
            ~p {
                [b]BlockManager[/b] - Dynamically loads and creates [[ blocks | ../language.md#blocks ]].
            }
            ;
            ~p {
                [b]Block[/b] - Base class of all blocks.
            }
            ;
            ~p {
                [b]Element[/b] - Represents a single HTML element.
            }
            ;
            ~p {
                [b]Elements[/b] - Represents a group of HTML elements.
            }
            ;
            ~p {
                [b]Utilities[/b] - Provides convenience functions used throughout the software.
            }
            ;
            
        }
        
    }
    ~sec [Wikifier\:\:Page] {
        ~p {
            [b]WiPage[/b] (Wikifier\:\:Page) is the most basic interface to the wikifier. As the
            name suggests, a Wikifier\:\:Page object represents a single page of a wiki.
            Usually it is associated with a single [c].page[/c] file written in the
            [[ wikifier language | ../langauge.md ]]. WiPage utilizes the wikifier package to
            generate HTML from the source file.
        }
        
    }
    ~sec [Wikifier\:\:Wiki] {
        ~p {
            [b]WiWiki[/b] (Wikifier\:\:Wiki) is an optional component of wikifier which each
            WiPage is independent of. This class provides a full wiki manager featuring
            caching, image generation, category management, templates, and other components
            of many wikis.
        }
        ~p {
            Wikifier\:\:Wiki is further divided into a few parts\:
        }
        ~list {
            ~p {
                [b]Pages[/b]\:        Generate and display pages.
            }
            ;
            ~p {
                [b]Images[/b]\:       Generate and display images.
            }
            ;
            ~p {
                [b]Categories[/b]\:   Generate and maintain category files.
            }
            ;
            ~p {
                [b]Models[/b]\:       Generate models.
            }
            ;
            ~p {
                [b]Revision[/b]\:     Wiki revision tracking.
            }
            ;
            
        }
        
    }
    ~sec [Wikifier\:\:Server] {
        ~p {
            Wikifier\:\:Server implements the [b]wikiserver[/b], a program which serves wiki
            content dynamically. It is [i]not[/i] a web server. Instead, web servers communicate
            with it via a UNIX socket. This makes it very portable (independent of any
            specific web server's module APIs), and it allows the wikiserver to perform
            operations independent of the web server.
        }
        ~sec [Features] {
            ~p {
                In the past, [[ WiWikis | #wikifierwiki ]] were queried directly by Perl modules
                running on web servers. The new wikiserver is a much better solution because it
                allows the web script to be written in any language. Consequently you can use
                any template engine with Wikifier.
            }
            ~p {
                The wikiserver also features automatic precompilation and image pregeneration.
                In other words, the server listens for changes to wiki source files and compiles
                them on the spot, generating images in all the required sizes. The result is a
                much faster page load, since the WiWiki never has to generate pages on demand
                as they are requested.
            }
            ~p {
                In addition to autocompiling and serving wiki pages, the wikiserver features
                write access authentication. This allows frontends such as
                [[ adminifier | https://github.com/cooper/adminifier ]] to commit changes to the
                wiki directly from a web interface.
            }
            ~p {
                One wikiserver can manage any number of [[ WiWikis | #wikifierwiki ]].
            }
            
        }
        ~sec [Usage] {
            ~list {
                ~p {
                    For each wiki, you will need to write a
                    [[ WiWiki configuration | ../configuration.md#wikifierwiki-public-options ]].
                }
                ;
                ~p {
                    Once your wikis are configured, write a
                    [[ wikiserver configuration | ../configuration.md#wikifierserver-options ]].
                }
                ;
                ~p {
                    Set up a [[ web script | #interfaces ]] to connect to the wikiserver.
                }
                ;
                ~p {
                    Run the included [c]wikiserver[/c] program.
                }
                ;
                
            }
            ~code {
./wikiserver /path/to/wikiserver.conf
}

        }
        ~sec [Interfaces] {
            ~p {
                [[ Wikifier\:\:Server | #wikifierserver ]] is [i]not[/i] a web server. You have to link your
                web server to it with some sort of script. wikifier comes with some programming
                interfaces to do this. They are located in the [[ interfaces | ../interfaces ]]
                directory.
            }
            ~list {
                ~p {
                    [b]PHP[/b] - [[ php-wikiclient | https://github.com/cooper/php-wikiclient ]]
                }
                ;
                ~p {
                    [b]Go[/b] - [[ go-wikiclient | https://github.com/cooper/go-wikiclient ]]
                }
                ;
                
            }
            
        }
        ~sec [Frontends] {
            ~p {
                These connect to wikiservers in order to serve content via HTTP.
            }
            ~list {
                ~p {
                    [[ [b]quiki[/b] | https://github.com/cooper/quiki ]] - a standalone web server for
                    wikifier written in Go. probably the easiest way to get a wikifier wiki up and
                    running. features a built-in template engine, the ability to serve multiple
                    wikis from one server, and more.
                }
                ;
                ~p {
                    [[ [b]adminifier[/b] | https://github.com/cooper/adminifier ]] - an administrator
                    panel for wikifier written in PHP.
                }
                ;
                
            }
            
        }
        
    }
    ~sec [Executables] {
        ~p {
            These executables, included in the wikifier distribution, make it possible to
            use wikifier as an independent program rather than a library.
        }
        ~sec [wikifier] {
            ~code {
./wikifier /path/to/some.page
}
~p {
                Reads the provided wiki page source file, spitting out the generated HTML to
                STDOUT. Warnings and errors are written to STDERR. Exit status is nonzero on
                fatal error.
            }
            
        }
        ~sec [wikiserver] {
            ~code {
./wikiserver /path/to/wikiserver.conf
}
~p {
                Runs a [[ wikiserver | #wikifierserver ]].
            }
            
        }
        ~sec [wikiclient] {
            ~code {
./wikiclient /path/to/wikiserver.conf
}
~p {
                Connects to a [[ wikiserver | #wikiserver ]] with an input prompt. This is only for
                testing so you can see how the wikiserver fulfills requests.
            }
            
        }
        
    }
    
}

